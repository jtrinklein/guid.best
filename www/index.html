<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-51921880-2"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'UA-51921880-2');
  </script>
  <!-- /gtag -->

  <meta charset="utf-8">
  <meta name="description" content="GUID generator provides the best GUID in either v4 or v1 format. Easy 1-click copy/regenerate make this a great tool for everyone.">
  <title>The Best Guid</title>
  <style>
    body {
      margin: 0;
      display: flex;
      flex-direction: column;
      height: 100vh;
      font-family: monospace;
    }

    .header {
      background: #657a8c;
      color: #eee;
      font: 2em monospace;

      text-align: center;
      padding: 32px;
    }

    .content {
      text-align: center;
      padding: 16px;
      flex-grow: 2;
    }

    #guid {
      text-align: center;
      font-size: 1.5em;
    }

    .footer {
      text-align: center;
      color: #aaa;
    }

    .footer a {
      color: #999;
      width: 100%;
    }
  </style>
  <script src="/uuid.js"></script>
  <script type="text/javascript">
    function updateGuid() {
      const fnmap = {
        'v1': v1,
        'v4': v4,
      }
      const ver = document.getElementById('version').value;
      const nextGuid = fnmap[ver] || v4;
      document.getElementById('guid').value = nextGuid();
    }

    window.addEventListener('load', (event) => {
      const selectElement = document.getElementById('version');

      selectElement.addEventListener('change', (event) => {
        updateGuid();
      });

      const newButton = document.getElementById('refresh');
      newButton.addEventListener('click', (e) => {
        updateGuid();
      });

      const copyButton = document.getElementById('copy');
      copyButton.addEventListener('click', () => {
        var copyText = document.getElementById('guid');
        copyText.select();
        document.execCommand('copy');
      });

      updateGuid();
    });
  </script>
</head>

<body>
  <div class='header'>Right now, this is the best GUID!</div>
  <div class='content'>
    <div class='controls'>
      <input readonly type='text' aria-label='guid value' id='guid' size=36 />
      <button id='copy'><img height=24 width=24 src='/copy.svg' alt="copy" /></button>
      <button id='refresh'><img height=24 width=24 src='/reload.svg' alt="new" /></button>
    </div>
    <div class='settings'>
      <span id='version-label'>GUID Version</span>
      <select id='version' aria-labelledby="version-label">
        <option value='v4'>v4</option>
        <option value='v1'>v1</option>
      </select>
    </div>
  </div>
  <div class='footer'>guids generated using <a href="https://github.com/kelektiv/node-uuid">uuid</a></div>
</body>

</html>